{
  "name": "Alertes-leboncoin",
  "tagline": "Recevez par email vos recherches leboncoin.fr (via Google Sheets / App Script)",
  "body": "\r\n\r\nAlertes leboncoin.fr - 4.3.2\r\n=============================\r\nRecevez par email vos recherches leboncoin.fr (via Google Sheets / App Script)\r\n\r\n<div style=\"float:right;\"><img src=\"https://raw.githubusercontent.com/maximelebreton/alertes-leboncoin/master/main.png\"/></div>\r\n_____________________________\r\n\r\n\r\n**Prérequis :** *vous devez avoir un compte Google et y être connecté.*\r\n\r\nInstallation en 4 étapes\r\n----------------------------------\r\n1. **Créez une copie** de cette feuille de calcul : https://docs.google.com/spreadsheet/ccc?key=1oruKJqdbEjg0z28K83hsqIKbaL2weBMqmA8lG0gYIfw&newcopy\r\n \r\n2. **Renseignez votre adresse email** dans l'onglet `Variables` en bas du document   ![image](https://cloud.githubusercontent.com/assets/1072425/16684136/b324aec6-4503-11e6-861c-f403d3886f18.png)\r\n\r\n\r\n3. Pour que le script soit executé de manière automatique, vous devez **programmer un trigger*** sur la fonction **`alertesLeBonCoin`**.  \r\n<small>(Dans `Outils > Éditeur de scripts`, puis `Ressources > Déclencheurs du script actuel`).</small>  \r\n<small>* *il est vivement conseillé de ne pas aller en dessous de `toutes les 2 heures`.*</small>\r\n\r\n4. Pour chaque requête que vous souhaitez effectuer sur leboncoin.fr, **copiez/collez son url** dans la colonne `Url` (une url par ligne). \r\n\r\n5. **Voilà !** Vous pouvez faire un test en cliquant sur `Alertes LeBonCoin > Lancer manuellement`. (une autorisation vous sera demandée lors du premier lancement)  \r\n\r\n\r\nObtenir la dernière mise à jour\r\n----------------------------------\r\n Dans la feuille de calcul, aller dans `Outils > Editeur de scripts`, puis `Ressources > Bibliothèques`, choisissez la version la plus récente, puis **cliquez sur Enregistrer**.  \r\n\r\n\r\n______________\r\n![image](https://cloud.githubusercontent.com/assets/1072425/16683980/c0f5a8f8-4502-11e6-8bd3-1fd437a57fde.png)\r\n______________\r\n![image](https://cloud.githubusercontent.com/assets/1072425/16684012/e90b0554-4502-11e6-8c2b-64d41a4ce346.png)\r\n______________\r\n![image](https://cloud.githubusercontent.com/assets/1072425/16684050/27f7cdec-4503-11e6-8dff-15b9b76e4c4d.png)\r\n______________\r\n\r\n\r\n\r\nParamètres utilisateurs\r\n----------------------\r\nPour indiquer vos propres paramètres, utiliser la variable `userParams` (dans la feuille de calcul : `Outils > Editeur de scripts`)\r\nexemple :\r\n```\r\nvar userParams = {\r\n  showMap: true,\r\n  groupedResults: false\r\n}\r\n```\r\nvous pouvez retrouver les paramètres par défaut par ici : https://github.com/maximelebreton/alertes-leboncoin/blob/master/Code.gs#L9\r\n\r\nUn problème ?\r\n--------------\r\n**Avant de vous inquiéter :**  \r\n1. vérifiez que votre **adresse email est bien renseignée** et qu'elle ne contient pas de caractères spéciaux (oui, même le +...)  \r\n2. vérifiez que votre **[version est bien à jour](#obtenir-la-dernière-mise-à-jour)** (et n'oubliez pas de cliquer sur enregistrer lors du changement)  \r\n3. si ça ne fonctionne toujours pas, et que vous ne savez pas pourquoi, tentez une **[réinstallation complète](#installation-en-4-étapes)**  \r\n4. si le problème n'est pas déjà signalé, je vous invite à **[créer une issue](https://github.com/maximelebreton/alertes-leboncoin/issues)**  \r\n\r\n\r\nPourquoi ce fork ?\r\n-----------------\r\n\r\n**TL DR;**\r\n* refonte totale du code\r\n* intégration de [cheerio](https://github.com/3846masa/cheerio-gasify) (équivalent de jquery côté serveur)\r\n* **mise à jour semi-automatique du code** (`Outils > Editeur de scripts`, puis `Ressources > Bibliothèques` pour choisir la version)\r\n* ajout de paramètres utilisateur\r\n* ajout d'une mini carte pour localiser rapidement l'annonce (`showMap`)\r\n* possibilité de choisir l'envoi des résultats en mails individuels ou en mail groupé (`groupedResults`)\r\n* Markup HTML externalisé dans des fichiers `.html` gérés par [HTML service](https://developers.google.com/apps-script/guides/html/templates)\r\n\r\n#### > [Vision et évolutions futures de la version 4.x ?](https://github.com/maximelebreton/alertes-leboncoin/issues/2)\r\n\r\n\r\n\r\nChangelog\r\n--------\r\n* **4.3.2** : améliorations du comportement de l'email \r\n* **4.3.1** : email responsive + modifications visuelles\r\n* **4.3.0** :\r\n * utilisation des [templates](https://developers.google.com/apps-script/guides/html/templates) pour faciliter la maintenance du markup des emails\r\n * ajout du résumé des annonces dans l'aperçu du mail (mailPreheaderTemplate.html)\r\n * ajout d'un placeholder lorsqu'aucune photo n'est disponible\r\n* **4.2.1** : \r\n * Correction d'un bug lié à l'affichage des cartes [#3](https://github.com/maximelebreton/alertes-leboncoin/issues/3)\r\n * Ajout d'une fonction de tri pour que le mail envoyé ne contienne que les dernières annonces même lorsque l'on trie par prix.\r\n* **4.2.0** : \r\n * Changement de l'algorithme de détection des dernières annonces (anciennement basé sur un id, et remplacé par un timestamp qui est la combinaison de la date et l'id)\r\n * Améliorations visuelles (la progression est maintenant visible)\r\n * Ajout d'une notification en bas de mail lorsqu'une mise à jour est disponible\r\n* **4.1.5** : modification du titre des emails envoyés\r\n* **4.1.4** : ajout d'un footer\r\n* **4.1.3** : Correction d'un bug lié aux paramètres utilisateurs qui n'étaient pas correctement étendus (extend VS deepExtend)\r\n* **4.1.2** : Corrections de bugs, amélioration considérable des performances, données normalisées, et ajout de la possibilité de recevoir des mails individuels\r\n* **4.0** : version initiale du projet (bêta)\r\n\r\n\r\n_____________________________\r\n\r\n\r\n\r\nv1.x par http://justdocsit.blogspot.fr  \r\nv4.x par [mlb](http://www.maximelebreton.com)  \r\n\r\n**Clé projet de la bilbiothèque :** `M9iNq7X9ZWxS_D7pHmMGBb6YoFnfw0_Hk`\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}